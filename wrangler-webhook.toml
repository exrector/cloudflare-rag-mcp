name = "rag-webhook-ingest"
main = "src/webhook-ingest.ts"
compatibility_date = "2024-12-01"

# Vectorize binding
[[vectorize]]
binding = "VECTORIZE"
index_name = "myrag-index"

# Workers AI binding
[ai]
binding = "AI"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "myrag-metadata"
database_id = "3bc73c19-69ce-4940-b63b-6a2ca5cf5dfb"

# Environment variables
[vars]
EMBEDDING_MODEL = "@cf/baai/bge-m3"

# Секретные переменные (установите через: wrangler secret put VARIABLE_NAME)
# GITHUB_TOKEN - для доступа к GitHub API (repo scope)
# GITHUB_WEBHOOK_SECRET - для проверки подписи webhook (любая строка)
